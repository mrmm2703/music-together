"use strict";function updateMediaSession(){"mediaSession"in navigator&&spotifyPlayer.getCurrentState().then(function(e){var a=[];e.track_window.current_track.album.images.forEach(function(e){a.push({src:e.url,sizes:e.width+"x"+e.height,type:"image/jpeg"})}),navigator.mediaSession.metadata=new MediaMetadata({title:e.track_window.current_track.name,artist:e.track_window.current_track.artists[0].name,album:e.track_window.current_track.album.name,artwork:a})})}"mediaSession"in navigator&&(console.log("ADDING MEDIA HADNLERS"),navigator.mediaSession.setActionHandler("pause",function(){playbackPause(),socket.emit("pause"),addMessage(user_id,"Paused playback",!0),dummyAudio.pause()}),navigator.mediaSession.setActionHandler("play",function(){playbackResume(),socket.emit("resume"),addMessage(user_id,"Resumed playback",!0),dummyAudio.play()}),navigator.mediaSession.setActionHandler("nexttrack",function(){socket.emit("makeMeHost"),spotifyPlayer.nextTrack(),setTimeout(function(){changedSong(!0),updatePlayer(),addSongChangeMessage(user_id)},250)}),navigator.mediaSession.setActionHandler("previoustrack",function(){socket.emit("makeMeHost"),spotifyPlayer.previousTrack(),setTimeout(function(){changedSong(!0),updatePlayer(),addSongChangeMessage(user_id)},250)}));
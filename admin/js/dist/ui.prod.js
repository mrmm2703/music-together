"use strict";var popupIndex=0;function makePopup(n){var e=popupIndex;popupIndex++;var t="../img/check-mark.png";1<arguments.length&&void 0!==arguments[1]&&arguments[1]&&(t="../img/error.png");var a='<div style="z-index: '+(250+e)+'" id="popup-'+e+'" class="popup-container"><img src="'+t+'"><div>'+n+"</div></div>";$("body").append(a),$("#popup-"+e).animate({top:"30px"},250).delay(3e3).animate({top:"50px",opacity:0},150),setTimeout(function(){$("#popup-"+e).remove()},3500)}var settingsOpen=!1;function sendBan(n){var e=io.connect("https://morahman.me:3000");console.log(e),e.on("connect",function(){e.emit("banUser",{accessToken:access_token,id:n}),e.close()})}$("#settings-container").click(function(){settingsOpen?$("#settings-dropdown").css("display","none"):$("#settings-dropdown").css("display","flex"),settingsOpen=!settingsOpen}),$(".details-btn").click(function(){window.location.href="userDetails.php?id="+$(this).data("id")}),$(".ban-btn").click(function(){var n=$(this).data("id"),e=($(this).data("group"),$(".ban-btn[data-id='"+n+"']"));$.ajax("toggleBan.php?access_token="+access_token+"&user_id="+n).done(function(){"1"==e.attr("data-banned")?(makePopup("User unbanned successfully"),e.attr("data-banned","0"),e.html("Ban")):(makePopup("User banned successfully"),e.attr("data-banned","1"),e.html("Unban"),sendBan(n))}).fail(function(n){403==n.status?makePopup("Insufficient privilges",!0):500==n.status?makePopup("Internal server error",!0):400==n.status?makePopup("User not found",!0):makePopup("Unknown error occured",!0)})});